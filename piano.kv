#:kivy 2.3.0

<TitleScreen>:
    name: 'title'
    canvas.before:
        Color:
            rgba: (1, 1, 1, 1)
        Rectangle:
            source:'source/title.jpg'
            pos: self.pos
            size: self.size

    Button: # Go to Piano
            background_color: 0, 0, 0, 0
            size_hint: None, .1
            width: self.height * 3.5
            pos_hint: {'center_x': 0.3, 'center_y': 0.5}
            markup: True
            text: '[b]Play[/b]'
            font_size: 80
            color: (0, 0, 0, 1)
            on_release: root.manager.start_app()
            canvas.before:
                Color:
                    rgba: (255, 255, 255, 0.9)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [20, 20]
    
    Button: # Go to Setting
    background_color: 0, 0, 0, 0
    size_hint: None, .1
    width: self.height * 3.5
    pos_hint: {'center_x': 0.3, 'center_y': 0.35}
    markup: True
    text: '[b]Setting[/b]'
    font_size: 80
    color: (0, 0, 0, 1)
    on_release: root.manager.setting_app()
    canvas.before:
        Color:
            rgba: (255, 255, 255, 0.9)
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [20, 20]
            
    Button: # Exit
            background_color: 0, 0, 0, 0
            size_hint: None, .1
            width: self.height * 3.5
            pos_hint: {'center_x': 0.3, 'center_y': 0.2}
            markup: True
            text: '[b]Exit[/b]'
            font_size: 80
            color: (0, 0, 0, 1)
            on_release: root.manager.exit_app()
            canvas.before:
                Color:
                    rgba: (255, 255, 255, 0.9)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [20, 20]


<GameScreen>:
    name: 'piano'
    canvas.before:
        Color:
            rgba: (1, 1, 1, 1)
        Rectangle:
            source:'source/game.jpg'
            pos: self.pos
            size: self.size

  ########## Function ##########
    Button: # Back to Title
        background_color: 0, 0, 0, 0
        size_hint: None, .05
        width: self.height * 2.5
        pos_hint: {'center_x': 0.1, 'center_y': 0.925}
        markup: True
        text: '[b]Back[/b]'
        font_size: 40
        color: (0, 0, 0, 1)
        on_release: root.manager.back()
        canvas.before:
            Color:
                rgba: (255, 255, 255, 0.9)
            RoundedRectangle:
                size: self.size
                pos: self.pos
                radius: [20, 20]

    Button:
        background_color: 0, 0, 0, 0
        size_hint: None, .05
        width: self.height * 2.5
        pos_hint: {'center_x': 0.1, 'center_y': 0.82}
        markup: True
        text: '[b]+[/b]'
        font_size: 40
        color: (0, 0, 0, 1)
        on_press: root.transpose_up()
        canvas.before:
            Color:
                rgba: (255, 255, 255, 0.9)
            RoundedRectangle:
                size: self.size
                pos: self.pos
                radius: [20, 20]

    Label:
        text: 'Now Key'
        id: 'Now Key'
        size_hint: None, .05
        width: self.height * 2.5
        pos_hint: {'center_x': 0.1, 'center_y': 0.75}
        color: (0, 0, 0, 1)
        markup: True
        canvas.before:
            Color:
                rgba: 255, 255, 255, 1  # Semi-transparent blue background
            RoundedRectangle:
                size: self.size
                pos: self.pos
                radius: [10, 10]

    Button:
        background_color: 0, 0, 0, 0
        size_hint: None, .05
        width: self.height * 2.5
        pos_hint: {'center_x': 0.1, 'center_y': 0.68}
        markup: True
        text: '[b]-[/b]'
        font_size: 40
        color: (0, 0, 0, 1)
        on_press: root.transpose_down()
        canvas.before:
            Color:
                rgba: (255, 255, 255, 0.9)
            RoundedRectangle:
                size: self.size
                pos: self.pos
                radius: [20, 20]

    ########## WHITE KEY ##########

    Button:
        text: "C"
        size_hint: (0.06, 0.4)
        pos_hint: {'center_x': 0.08, 'center_y': 0.33}
        background_color: (255, 255, 255, 1)
        color: (0, 0, 0, 1)
        on_press: root.on_press(self)
        on_release: root.on_release_w(self)

    Button:
        text: "D"
        size_hint: (0.06, 0.4)
        pos_hint: {'center_x': 0.14, 'center_y': 0.33}
        background_color: (255, 255, 255, 1)
        color: (0, 0, 0, 1)
        on_press: root.on_press(self)
        on_release: root.on_release_w(self)

    Button:
        text: "E"
        size_hint: (0.06, 0.4)
        pos_hint: {'center_x': 0.20, 'center_y': 0.33}
        background_color: (255, 255, 255, 1)
        color: (0, 0, 0, 1)
        on_press: root.on_press(self)
        on_release: root.on_release_w(self)

    Button:
        text: "F"
        size_hint: (0.06, 0.4)
        pos_hint: {'center_x': 0.26, 'center_y': 0.33}
        background_color: (255, 255, 255, 1)
        color: (0, 0, 0, 1)
        on_press: root.on_press(self)
        on_release: root.on_release_w(self)

    Button:
        text: "G"
        size_hint: (0.06, 0.4)
        pos_hint: {'center_x': 0.32, 'center_y': 0.33}
        background_color: (255, 255, 255, 1)
        color: (0, 0, 0, 1)
        on_press: root.on_press(self)
        on_release: root.on_release_w(self)

    Button:
        text: "A"
        size_hint: (0.06, 0.4)
        pos_hint: {'center_x': 0.38, 'center_y': 0.33}
        background_color: (255, 255, 255, 1)
        color: (0, 0, 0, 1)
        on_press: root.on_press(self)
        on_release: root.on_release_w(self)

    Button:
        text: "B"
        size_hint: (0.06, 0.4)
        pos_hint: {'center_x': 0.44, 'center_y': 0.33}
        background_color: (255, 255, 255, 1)
        color: (0, 0, 0, 1)
        on_press: root.on_press(self)
        on_release: root.on_release_w(self)

    Button:
        text: "C^"
        size_hint: (0.06, 0.4)
        pos_hint: {'center_x': 0.50, 'center_y': 0.33}
        background_color: (255, 255, 255, 1)
        color: (0, 0, 0, 1)
        on_press: root.on_press(self)
        on_release: root.on_release_w(self)

    Button:
        text: "D^"
        size_hint: (0.06, 0.4)
        pos_hint: {'center_x': 0.56, 'center_y': 0.33}
        background_color: (255, 255, 255, 1)
        color: (0, 0, 0, 1)
        on_press: root.on_press(self)
        on_release: root.on_release_w(self)

    Button:
        text: "E^"
        size_hint: (0.06, 0.4)
        pos_hint: {'center_x': 0.62, 'center_y': 0.33}
        background_color: (255, 255, 255, 1)
        color: (0, 0, 0, 1)
        on_press: root.on_press(self)
        on_release: root.on_release_w(self)

    Button:
        text: "F^"
        size_hint: (0.06, 0.4)
        pos_hint: {'center_x': 0.68, 'center_y': 0.33}
        background_color: (255, 255, 255, 1)
        color: (0, 0, 0, 1)
        on_press: root.on_press(self)
        on_release: root.on_release_w(self)

    Button:
        text: "G^"
        size_hint: (0.06, 0.4)
        pos_hint: {'center_x': 0.74, 'center_y': 0.33}
        background_color: (255, 255, 255, 1)
        color: (0, 0, 0, 1)
        on_press: root.on_press(self)
        on_release: root.on_release_w(self)

    Button:
        text: "A^"
        size_hint: (0.06, 0.4)
        pos_hint: {'center_x': 0.80, 'center_y': 0.33}
        background_color: (255, 255, 255, 1)
        color: (0, 0, 0, 1)
        on_press: root.on_press(self)
        on_release: root.on_release_w(self)

    Button:
        text: "B^"
        size_hint: (0.06, 0.4)
        pos_hint: {'center_x': 0.86, 'center_y': 0.33}
        background_color: (255, 255, 255, 1)
        color: (0, 0, 0, 1)
        on_press: root.on_press(self)
        on_release: root.on_release_w(self)

   Button:
        text: "C^^"
        size_hint: (0.06, 0.4)
        pos_hint: {'center_x': 0.92, 'center_y': 0.33}
        background_color: (255, 255, 255, 1)
        color: (0, 0, 0, 1)
        on_press: root.on_press(self)
        on_release: root.on_release_w(self)

        ########## BLACK KEY ##########

    Button:
        text: "C#"
        size_hint: (0.05, 0.25)
        pos_hint: {'center_x': 0.11, 'center_y': 0.406}
        background_color: (0, 0, 0, 1)
        color: (1, 1, 1, 1)
        on_press: root.on_press(self)
        on_release: root.on_release_b(self)

    Button:
        text: "D#"
        size_hint: (0.05, 0.25)
        pos_hint: {'center_x': 0.17, 'center_y': 0.406}
        background_color: (0, 0, 0, 1)
        color: (1, 1, 1, 1)
        on_press: root.on_press(self)
        on_release: root.on_release_b(self)
